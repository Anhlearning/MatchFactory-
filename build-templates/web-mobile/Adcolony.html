<!DOCTYPE html><html><head><meta charset="utf-8"/><title>{#title}</title><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="format-detection" content="telephone=no"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="msapplication-tap-highlight" content="no"/><meta name="full-screen" content="yes"/><meta name="x5-fullscreen" content="true"/><meta name="360-fullscreen" content="true"/><meta name="screen-orientation" content=""/><meta name="x5-orientation" content=""/><meta name="x5-page-mode" content="app"/><meta name="ad.size" content="width=100%,height=100%"><style>html{-ms-touch-action:none}body,canvas,div{display:block;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}body{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;border:0;margin:0;cursor:default;color:#888;background-color:#333;text-align:center;font-family:Helvetica,Verdana,Arial,sans-serif;display:flex;flex-direction:column}#Cocos2dGameContainer{position:absolute;margin:0;overflow:hidden;left:0px;top:0px;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:center;-webkit-box-pack:center}canvas{background-color:rgba(0,0,0,0)}a:link,a:visited{color:#666}a:active,a:hover{color:#666}p.header{font-size:small}p.footer{font-size:x-small}#splash{position:absolute;top:0;left:0;width:100%;height:100%;background:#171717}.progress-bar{background-color:#1a1a1a;position:absolute;left:25%;top:80%;height:15px;padding:5px;width:50%;border-radius:5px;box-shadow:0 1px 5px #000 inset, 0 1px 0 #444}.progress-bar span{display:block;height:100%;border-radius:3px;box-shadow:0 1px 0 rgba(255, 255, 255, .5) inset;transition:width .4s ease-in-out;background-color:#34c2e3}.stripes span{background-size:30px 30px;background-image:linear-gradient(135deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent);animation:animate-stripes 1s linear infinite}@keyframes animate-stripes{0%{background-position:0 0}100%{background-position:60px 0}}</style></head><body> <canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas><div id="splash"><div class="progress-bar stripes"> <span style="width: 0%"></span></div></div> <script type="text/javascript" charset="utf-8">{#resMap}</script> <script type="text/javascript" charset="utf-8">{#settings}</script> <script type="text/javascript" charset="utf-8">{#cocosengine}</script> <script type="text/javascript" charset="utf-8">(function(){function boot(){var settings=window._CCSettings;window._CCSettings=undefined;var onProgress=null;let{RESOURCES,INTERNAL,MAIN,START_SCENE}=cc.AssetManager.BuiltinBundleName;function setLoadingDisplay(){var splash=document.getElementById('splash');var progressBar=splash.querySelector('.progress-bar span');onProgress=function(finish,total){var percent=100*finish/total;if(progressBar){progressBar.style.width=percent.toFixed(2)+'%';}};splash.style.display='block';progressBar.style.width='0%';cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){splash.style.display='none';});} var onStart=function(){cc.view.enableRetina(true);cc.view.resizeWithBrowserSize(true);if(cc.sys.isBrowser){setLoadingDisplay();} if(cc.sys.isMobile){if(settings.orientation==='landscape'){cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);}else if(settings.orientation==='portrait'){cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);} cc.view.enableAutoFullScreen([cc.sys.BROWSER_TYPE_BAIDU,cc.sys.BROWSER_TYPE_BAIDU_APP,cc.sys.BROWSER_TYPE_WECHAT,cc.sys.BROWSER_TYPE_MOBILE_QQ,cc.sys.BROWSER_TYPE_MIUI,].indexOf(cc.sys.browserType)<0);} if(cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID){cc.assetManager.downloader.maxConcurrency=2;cc.assetManager.downloader.maxRequestsPerFrame=2;} var launchScene=settings.launchScene;var bundle=cc.assetManager.bundles.find(function(b){return b.getSceneInfo(launchScene);});bundle.loadScene(launchScene,null,onProgress,function(err,scene){if(!err){cc.director.runSceneImmediate(scene);if(cc.sys.isBrowser){var canvas=document.getElementById('GameCanvas');canvas.style.visibility='';var div=document.getElementById('GameDiv');if(div){div.style.backgroundImage='';} console.log('Success to load scene: '+launchScene);}}});};var option={id:'GameCanvas',debugMode:settings.debug?cc.debug.DebugMode.INFO:cc.debug.DebugMode.ERROR,showFPS:settings.debug,frameRate:60,groupList:settings.groupList,collisionMatrix:settings.collisionMatrix,};cc.assetManager.init({bundleVers:settings.bundleVers,remoteBundles:settings.remoteBundles,server:settings.server});let bundleRoot=[INTERNAL,MAIN];settings.hasStartSceneBundle&&bundleRoot.push(START_SCENE);settings.hasResourcesBundle&&bundleRoot.push(RESOURCES);var count=0;function cb(err){if(err)return console.error(err.message,err.stack);count++;if(count===bundleRoot.length+1){cc.game.run(option,onStart);}} cc.assetManager.loadScript(settings.jsList.map(function(x){return'src/'+x;}),cb);for(let i=0;i<bundleRoot.length;i++){cc.assetManager.loadBundle(bundleRoot[i],cb);}};if(window.document){var loadBundle=function(nameOrUrl,options,onComplete){var str=window.resMap[nameOrUrl+'/config.json'];str.base=nameOrUrl+'/';var data=JSON.parse(str);onComplete(null,data);};var loadJson=function(nameOrUrl,options,onComplete){var data=JSON.parse(window.resMap[nameOrUrl]);onComplete(null,data);};var loadPlist=function(nameOrUrl,options,onComplete){var data=window.resMap[nameOrUrl];onComplete(null,data);};var loadBin=function(nameOrUrl,options,onComplete){var data=window.resMap[nameOrUrl];data=dataURLtoFile(data);onComplete(null,data);};function dataURLtoFile(dataurl,filename){var arr=dataurl.split(','),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);} return u8arr;} function loadDomImage(url,options,onComplete){var index=url.lastIndexOf(".");var strtype=url.substr(index+1,4);strtype=strtype.toLowerCase();var data=window.resMap[url];var img=new Image();if(window.location.host.indexOf('sensortower')!=-1||window.location.host.indexOf('appannie')!=-1||window.location.host.indexOf('socialpeta')!=-1){return null;} if(cc.sys.browserType==cc.sys.BROWSER_TYPE_SAFARI&&parseInt(cc.sys.osVersion.substring(0,2))<=16){if(window.location.protocol!=='file:'){while(data.length%4>0){data+='=';}} img.crossOrigin='anonymous';} function loadCallback(){img.removeEventListener('load',loadCallback);img.removeEventListener('error',errorCallback);onComplete&&onComplete(null,img);} function errorCallback(){img.removeEventListener('load',loadCallback);img.removeEventListener('error',errorCallback);onComplete&&onComplete(new Error(cc.debug.getError(4930,url)));} img.addEventListener('load',loadCallback);img.addEventListener('error',errorCallback);img.src=data;return img;} var loadImage=function(nameOrUrl,options,onComplete){loadDomImage(nameOrUrl,options,onComplete);};var __audioSupport=cc.sys.__audioSupport;var formatSupport=__audioSupport.format;var context=__audioSupport.context;function base64toBlob(base64,type){var bstr=atob(base64,type),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n)} return new Blob([u8arr],{type:type,})} function base64toArray(base64){var bstr=atob(base64),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n)} return u8arr;} function loadDomAudio(url,onComplete){var dom=document.createElement('audio');dom.muted=true;dom.muted=false;var data=window.resMap[url.split("?")[0]];data=base64toBlob(data,"audio/mpeg");if(window.URL){dom.src=window.URL.createObjectURL(data);}else{dom.src=data;} var clearEvent=function(){clearTimeout(timer);dom.removeEventListener("canplaythrough",success,false);dom.removeEventListener("error",failure,false);if(__audioSupport.USE_LOADER_EVENT)dom.removeEventListener(__audioSupport.USE_LOADER_EVENT,success,false);};var timer=setTimeout(function(){if(dom.readyState===0)failure();else success();},8000);var success=function(){clearEvent();onComplete&&onComplete(null,dom);};var failure=function(){clearEvent();var message='load audio failure - '+url;cc.log(message);onComplete&&onComplete(new Error(message));};dom.addEventListener("canplaythrough",success,false);dom.addEventListener("error",failure,false);if(__audioSupport.USE_LOADER_EVENT)dom.addEventListener(__audioSupport.USE_LOADER_EVENT,success,false);return dom;} function loadWebAudio(url,onComplete){if(!context)callback(new Error('Audio Downloader: no web audio context.'));var data=window.resMap[url];data=base64toArray(data);if(data){context["decodeAudioData"](data.buffer,function(buffer){onComplete(null,buffer);},function(){onComplete('decode error - '+url,null);});}else{onComplete('request error - '+url,null);}} var loadAudio=(url,options,onComplete)=>{if(formatSupport.length===0){return new Error('Audio Downloader: audio not supported on this browser!');} if(!__audioSupport.WEB_AUDIO){loadDomAudio(url,onComplete);}else{loadWebAudio(url,onComplete);}};var loadFont=(url,options,onComplete)=>{var ttfIndex=url.lastIndexOf(".ttf");var slashPos=url.lastIndexOf("/");var fontFamilyName;if(slashPos===-1){fontFamilyName=url.substring(0,ttfIndex)+"_LABEL";}else{fontFamilyName=url.substring(slashPos+1,ttfIndex)+"_LABEL";} if(fontFamilyName.indexOf(' ')!==-1){fontFamilyName='"'+fontFamilyName+'"';} let fontStyle=document.createElement("style");fontStyle.type="text/css";let fontStr="";if(isNaN(fontFamilyName-0))fontStr+="@font-face { font-family:"+fontFamilyName+"; src:";else fontStr+="@font-face { font-family:'"+fontFamilyName+"'; src:";var data='url(data:application/x-font-woff;charset=utf-8;base64,PASTE-BASE64-HERE) format("woff");';data=data.replace("PASTE-BASE64-HERE",window.resMap[url]);fontStr+=data;fontStyle.textContent=fontStr+"}";document.body.appendChild(fontStyle);let preloadDiv=document.createElement("div");let divStyle=preloadDiv.style;divStyle.fontFamily=fontFamilyName;preloadDiv.innerHTML=".";divStyle.position="absolute";divStyle.left="-100px";divStyle.top="-100px";document.body.appendChild(preloadDiv);onComplete(null,fontFamilyName);};cc.assetManager.downloader.register('bundle',loadBundle);cc.assetManager.downloader.register('.json',loadJson);cc.assetManager.downloader.register('.plist',loadPlist);cc.assetManager.downloader.register('.png',loadImage);cc.assetManager.downloader.register('.bin',loadBin);cc.assetManager.downloader.register('.jpg',loadImage);cc.assetManager.downloader.register('.jpeg',loadImage);cc.assetManager.downloader.register('.mp3',loadAudio);cc.assetManager.downloader.register('.ogg',loadAudio);cc.assetManager.downloader.register('.wav',loadAudio);cc.assetManager.downloader.register('.m4a',loadAudio);cc.assetManager.downloader.register('.ttf',loadFont);var splash=document.getElementById('splash');splash.style.display='block';cc.macro.CLEANUP_IMAGE_CACHE=true;if(mraid.getState()==='loading'){mraid.addEventListener('ready',onSdkReady);}else{onSdkReady();} var a=true;function onSdkReady(){mraid.addEventListener('viewableChange',viewableChangeHandler);} if(a){a=false;boot();} function viewableChangeHandler(viewable){if(viewable){if(a){a=false;boot();} if(typeof(cc.audioNamnx)!=='undefined'){cc.audioNamnx.unmuteAudio();}}else{if(typeof(cc.audioNamnx)!=='undefined'){cc.audioNamnx.muteAudio();}}}}})();</script> <script type="text/javascript" charset="utf-8">{#project}</script> </body></html>